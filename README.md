# oooooi

A macOS CLI tool that automatically opens Google Meet 1 minute before meetings.

## Installation

```bash
go install github.com/knwoop/oooooi@latest
```

Or build from source:

```bash
git clone https://github.com/knwoop/oooooi.git
cd oooooi
go build -o /usr/local/bin/oooooi .
```

## Setup

### 1. Create OAuth Client ID in Google Cloud Console

1. Go to [Google Cloud Console](https://console.cloud.google.com/)
2. Create a new project
3. Enable Google Calendar API (APIs & Services > Library)
4. Configure OAuth consent screen (APIs & Services > OAuth consent screen)
   - User type: External
   - Scopes: `calendar.readonly`
   - Test users: Add your Gmail address
5. Create OAuth Client ID (APIs & Services > Credentials > Create Credentials)
   - Application type: Desktop app
6. Download the JSON file

### 2. Place credentials.json

```bash
mkdir -p ~/.config/oooooi
mv ~/Downloads/client_secret_xxx.json ~/.config/oooooi/credentials.json
```

### 3. Authenticate

```bash
oooooi auth
```

A browser window will open for Google authentication.

### 4. Verify

```bash
oooooi status
```

You should see your next meeting with a Google Meet link.

### 5. Enable auto-start

```bash
oooooi install
```

The daemon will now start automatically on login.

## Commands

| Command | Description |
|---------|-------------|
| `oooooi` | Start daemon (foreground) |
| `oooooi auth` | Authenticate with Google |
| `oooooi status` | Show next meeting |
| `oooooi install` | Register with launchd (auto-start) |
| `oooooi uninstall` | Remove from launchd |

## How it works

1. Checks Google Calendar every minute
2. Shows a notification dialog 1 minute before meetings with Meet links
3. Click "Join" to open Meet in your browser

```
┌─────────────────────────┐
│  ⚠️ oooooi              │
│                         │
│  MTG starting!          │
│  Weekly Standup         │
│                         │
│  [Later]  [Join]        │
└─────────────────────────┘
```

## Files

```
~/.config/oooooi/
├── credentials.json   # OAuth client ID (manual)
└── token.json         # Auth token (auto-generated)

~/Library/LaunchAgents/
└── com.oooooi.plist   # launchd config (generated by install)

/tmp/
├── oooooi.log         # stdout log
└── oooooi.err         # stderr log
```

## Uninstall

```bash
oooooi uninstall
rm /usr/local/bin/oooooi
rm -rf ~/.config/oooooi
```

## License

MIT
